<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>Mimosa ‚Ä¢ CSC CI/CD Demo</title>
  <style>
    :root{
      --bg:#070a16;
      --panel:rgba(255,255,255,.06);
      --panel2:rgba(255,255,255,.08);
      --line:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --muted2:rgba(255,255,255,.52);
      --brand:#7c3aed;
      --brand2:#06b6d4;
      --ok:#22c55e;
      --warn:#f59e0b;
      --bad:#ef4444;
      --r:18px;
      --max:1100px;
      --pad:clamp(18px,3vw,28px);
      --h1:clamp(34px,4.8vw,64px);
      --h2:clamp(20px,2.6vw,30px);
      --p:clamp(15px,1.5vw,17px);
      --shadow: 0 20px 70px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1000px 600px at 15% -10%, rgba(124,58,237,.32), transparent 55%),
        radial-gradient(900px 520px at 95% 10%, rgba(6,182,212,.24), transparent 55%),
        radial-gradient(700px 420px at 25% 95%, rgba(34,197,94,.16), transparent 55%),
        linear-gradient(180deg, var(--bg), #050713);
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    code,kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}
    .wrap{max-width:var(--max);margin:0 auto;padding:0 var(--pad)}
    header{
      position:sticky;top:0;z-index:10;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(7,10,22,.75), rgba(7,10,22,.35));
      border-bottom:1px solid var(--line);
    }
    .nav{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 0;gap:14px;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
      font-weight:800; letter-spacing:.2px;
    }
    .logo{
      width:38px;height:38px;border-radius:14px;
      background: conic-gradient(from 210deg, var(--brand), var(--brand2), #22c55e, #f97316, var(--brand));
      box-shadow: 0 18px 55px rgba(124,58,237,.22);
      position:relative;overflow:hidden;
    }
    .logo::after{
      content:""; position:absolute; inset:-50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.85), transparent 40%);
      transform: rotate(18deg);
      opacity:.22;
    }
    nav{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:14px}
    nav a{padding:8px 10px;border-radius:12px;transition:background .2s ease, color .2s ease}
    nav a:hover{background:rgba(255,255,255,.06);color:rgba(255,255,255,.9)}
    .btn{
      display:inline-flex;align-items:center;gap:10px;justify-content:center;
      padding:10px 14px;border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:rgba(255,255,255,.92);
      font-weight:700;font-size:14px;
      cursor:pointer; user-select:none;
      transition: transform .15s ease, background .2s ease, border-color .2s ease;
    }
    .btn:hover{transform: translateY(-1px); background:rgba(255,255,255,.09); border-color:rgba(255,255,255,.2)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(124,58,237,.95), rgba(6,182,212,.85));
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 20px 60px rgba(124,58,237,.22);
    }
    .btn.primary:hover{box-shadow: 0 26px 70px rgba(124,58,237,.28)}
    .grid{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: clamp(16px,4vw,34px);
      padding: 44px 0 14px;
      align-items:start;
    }
    @media (max-width: 920px){
      .grid{grid-template-columns:1fr}
      nav{display:none}
    }
    .badge{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      color:var(--muted);font-size:13px;line-height:1;
    }
    .dot{
      width:8px;height:8px;border-radius:99px;background:var(--ok);
      box-shadow:0 0 0 6px rgba(34,197,94,.14);
      animation:pulse 1.8s ease-in-out infinite;
    }
    @keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}
    h1{margin:14px 0 12px;font-size:var(--h1);line-height:1.05;letter-spacing:-.03em}
    .sub{margin:0;color:var(--muted);font-size:var(--p);line-height:1.6;max-width:66ch}
    .actions{display:flex;gap:12px;flex-wrap:wrap;margin:22px 0 10px}
    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;color:var(--muted2);font-size:13px}
    .chip{padding:8px 10px;border-radius:14px;background:rgba(255,255,255,.04);border:1px dashed rgba(255,255,255,.14)}
    .panel{
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      position:relative;overflow:hidden;
    }
    .panel::before{
      content:""; position:absolute; inset:-1px;
      background:
        radial-gradient(700px 380px at 18% 0%, rgba(124,58,237,.26), transparent 55%),
        radial-gradient(700px 380px at 92% 12%, rgba(6,182,212,.22), transparent 60%);
      opacity:.9; pointer-events:none;
    }
    .panelIn{position:relative;padding:18px}
    .kpis{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
    .kpi{
      padding:14px;border-radius:16px;background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.12);
    }
    .kpi small{color:var(--muted);display:block}
    .kpi b{font-size:22px;letter-spacing:-.02em}
    section{padding: 22px 0}
    .sectionTitle{
      display:flex;justify-content:space-between;align-items:flex-end;gap:14px;
      margin: 10px 0 14px;
    }
    h2{margin:0;font-size:var(--h2);letter-spacing:-.02em}
    .hint{color:var(--muted2);font-size:13px;line-height:1.3}
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width: 920px){.cards{grid-template-columns:1fr}}
    .card{
      border-radius: var(--r);
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      padding:16px;
      transition: transform .18s ease, background .2s ease, border-color .2s ease;
    }
    .card:hover{transform: translateY(-2px); background:rgba(255,255,255,.08); border-color:rgba(255,255,255,.18)}
    .icon{
      width:42px;height:42px;border-radius:14px;
      display:grid;place-items:center;
      background: linear-gradient(135deg, rgba(124,58,237,.32), rgba(6,182,212,.22));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 14px 35px rgba(0,0,0,.25);
      margin-bottom:10px;
    }
    .card h3{margin:0 0 6px;font-size:16px}
    .card p{margin:0;color:var(--muted);font-size:14px;line-height:1.55}
    details{
      border-radius: var(--r);
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.12);
      padding:14px 16px;
    }
    details+details{margin-top:10px}
    summary{
      cursor:pointer;list-style:none;
      display:flex;justify-content:space-between;align-items:center;gap:12px;
      font-weight:750;color:rgba(255,255,255,.92)
    }
    summary::-webkit-details-marker{display:none}
    .chev{
      width:26px;height:26px;border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      display:grid;place-items:center;
      transition: transform .2s ease;
      flex:0 0 auto;
    }
    details[open] .chev{transform: rotate(180deg)}
    details p{margin:10px 0 0;color:var(--muted);line-height:1.6;font-size:14px}
    footer{
      margin-top: 14px;
      border-top:1px solid rgba(255,255,255,.10);
      padding: 22px 0 34px;
      color: var(--muted2);
      font-size:13px;
    }
    .footerRow{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:center}
    .toast{
      position:fixed; left:50%; bottom:18px;
      transform: translateX(-50%) translateY(18px);
      background: rgba(7,10,22,.78);
      border:1px solid rgba(255,255,255,.14);
      border-radius:999px;
      padding:10px 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      opacity:0; pointer-events:none;
      transition: opacity .25s ease, transform .25s ease;
      display:flex;align-items:center;gap:10px;
      z-index:50;
    }
    .toast.show{opacity:1; transform: translateX(-50%) translateY(0)}
    .okdot{
      width:18px;height:18px;border-radius:999px;
      background: rgba(34,197,94,.18);
      border:1px solid rgba(34,197,94,.35);
      display:grid;place-items:center;
      color: rgba(34,197,94,.95);
      font-weight:900;
    }
    .kbd{
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.06);
      padding:2px 8px;border-radius:10px;
      color:rgba(255,255,255,.9);
    }
  </style>
</head>

<body>
  <header id="top">
    <div class="wrap">
      <div class="nav">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <div style="font-size:14px;opacity:.95">Mimosa</div>
            <div style="font-size:12px;color:var(--muted2)">CSC CI/CD Demo</div>
          </div>
        </div>

        <nav aria-label="P√§√§valikko">
          <a href="#mita">Mit√§</a>
          <a href="#ominaisuudet">Ominaisuudet</a>
          <a href="#faq">FAQ</a>
        </nav>

        <div style="display:flex;gap:10px;align-items:center">
          <button class="btn" id="copyBtn" type="button">Kopioi IP</button>
          <button class="btn primary" id="deployBtn" type="button">Simuloi deploy ‚ú®</button>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <div>
        <span class="badge">
          <span class="dot" aria-hidden="true"></span>
          Online ‚Ä¢ P√§ivittyy automaattisesti GitHub Actionsilla
        </span>

        <h1>
          CI/CD putki, joka oikeasti<br/>
          <span style="background:linear-gradient(90deg,var(--brand),var(--brand2),#22c55e);-webkit-background-clip:text;background-clip:text;color:transparent">toimii tuotannossa</span>.
        </h1>

        <p class="sub" id="mita">
          T√§m√§ sivu rakennetaan Docker-imagena, pusketaan Docker Hubiin ja
          p√§ivitet√§√§n CSC-virtuaalikoneelle automaattisesti.
          Muuta <code>index.html</code>, tee <span class="kbd">commit</span> ja <span class="kbd">push</span> ‚Üí ja katso miten sis√§lt√∂ p√§ivittyy IP-osoitteessa.
        </p>

        <div class="actions">
          <a class="btn primary" href="#status">N√§yt√§ status</a>
          <a class="btn" href="#ominaisuudet">Mit√§ tapahtuu taustalla?</a>
        </div>

        <div class="chips">
          <span class="chip">üì¶ Dockerfile</span>
          <span class="chip">üîÅ GitHub Actions</span>
          <span class="chip">üöÄ Deploy CSC:lle</span>
          <span class="chip">üåê Portti 80</span>
        </div>
      </div>

      <aside class="panel" id="status" aria-label="Status panel">
        <div class="panelIn">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
            <div>
              <div style="font-weight:850;letter-spacing:-.01em">Live status</div>
              <div style="color:var(--muted);font-size:13px;margin-top:4px">Pieni mittaristo selaimessa</div>
            </div>
            <span class="btn" style="padding:8px 12px;border-radius:999px" id="onlinePill">ONLINE</span>
          </div>

          <div class="kpis">
            <div class="kpi">
              <small>UTC-aika</small>
              <b id="utcNow">‚Äî</b>
            </div>
            <div class="kpi">
              <small>Sivun lataus</small>
              <b id="loadMs">‚Äî</b>
            </div>
            <div class="kpi">
              <small>Build ID</small>
              <b id="buildId">‚Äî</b>
            </div>
            <div class="kpi">
              <small>Versio</small>
              <b id="ver">v99</b>
            </div>
          </div>

          <div style="margin-top:12px;padding:14px;border-radius:16px;background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.12);color:rgba(255,255,255,.85);font-size:13px;line-height:1.55">
            <b>Vinkki:</b> Tee pieni muutos t√§h√§n tiedostoon ja pushaa ‚Üí kun teksti muuttuu IP:ss√§, deploy on oikeasti onnistunut.
          </div>
        </div>
      </aside>
    </div>

    <section id="ominaisuudet">
      <div class="sectionTitle">
        <h2>Mit√§ taustalla tapahtuu?</h2>
        <div class="hint">Sama malli toimii my√∂hemmin API:lle, web-sovelluksille ja mobiilibackendille.</div>
      </div>

      <div class="cards">
        <div class="card">
          <div class="icon">üì¶</div>
          <h3>Build</h3>
          <p>Dockerfile paketoi sivun nginx-imagen sis√§√§n. Sama idea toimii React/Node/Spring-projekteissa.</p>
        </div>
        <div class="card">
          <div class="icon">‚òÅÔ∏è</div>
          <h3>Push</h3>
          <p>GitHub Actions puskee uuden imagen Docker Hubiin tageilla <code>latest</code> ja <code>sha</code>.</p>
        </div>
        <div class="card">
          <div class="icon">üöÄ</div>
          <h3>Deploy</h3>
          <p>Actions kirjautuu CSC:lle SSH:lla ja ajaa <code>docker pull</code> + uudelleenk√§ynnistyksen porttiin 80.</p>
        </div>
      </div>
    </section>

    <section id="faq">
      <div class="sectionTitle">
        <h2>FAQ</h2>
        <div class="hint">Pikavastaukset yleisimpiin kysymyksiin.</div>
      </div>

      <details>
        <summary>Miksi sivu n√§kyy IP:ss√§ ilman porttia? <span class="chev">‚åÑ</span></summary>
        <p>Koska palvelu kuuntelee porttia <b>80</b>. HTTP k√§ytt√§√§ oletuksena porttia 80, joten <code>http://IP/</code> riitt√§√§.</p>
      </details>

      <details>
        <summary>Miten varmistan ett√§ deploy todella tapahtui? <span class="chev">‚åÑ</span></summary>
        <p>Muuta jotain n√§kyv√§√§ (esim. versio <code>v2</code> ‚Üí <code>v3</code>), pushaa ja tee selaimessa <b>Ctrl+F5</b>.</p>
      </details>

      <details>
        <summary>Miksi vanhat punaiset workflow-runien logit n√§kyy edelleen? <span class="chev">‚åÑ</span></summary>
        <p>Ne ovat historiaa ajalta, kun secretit tai workflow oli viel√§ v√§√§rin. Ne eiv√§t vaikuta uuteen vihre√§√§n deployhin.</p>
      </details>
    </section>

    <footer>
      <div class="footerRow">
        <div>¬© <span id="year"></span> Mimosa ‚Ä¢ CSC CI/CD Demo</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn" href="#top" onclick="window.scrollTo({top:0,behavior:'smooth'})">Yl√∂s</a>
          <a class="btn" href="#mita">Mit√§</a>
          <a class="btn" href="#status">Status</a>
        </div>
      </div>
    </footer>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <span class="okdot">‚úì</span>
    <span id="toastText">Kopioitu</span>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    const toast = $("toast");
    const toastText = $("toastText");
    function showToast(msg){
      toastText.textContent = msg;
      toast.classList.add("show");
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=>toast.classList.remove("show"), 2200);
    }

    // perf
    const nav = performance.getEntriesByType?.("navigation")?.[0];
    const loadMs = nav ? Math.round(nav.duration) : Math.round(performance.now());
    $("loadMs").textContent = loadMs + " ms";

    // utc clock
    function tickUTC(){
      const d = new Date();
      $("utcNow").textContent = d.toISOString().replace("T"," ").replace("Z"," UTC");
    }
    tickUTC();
    setInterval(tickUTC, 1000);

    // build id (client-side)
    function genBuildId(){
      const seed = (Date.now().toString(36) + Math.random().toString(36)).slice(2,10).toUpperCase();
      return "B-" + seed;
    }
    $("buildId").textContent = genBuildId();

    // copy IP/host
    $("copyBtn").addEventListener("click", async ()=>{
      const host = location.host || "195.148.20.184";
      try{
        await navigator.clipboard.writeText(host);
        showToast("Kopioitu: " + host);
      }catch(e){
        showToast("Kopiointi ei onnistunut ‚Äî " + host);
      }
    });

    // simulate deploy
    $("deployBtn").addEventListener("click", ()=>{
      $("buildId").textContent = genBuildId();
      showToast("Simuloitu deploy ‚ú® (tee oikea push n√§hd√§ksesi p√§ivityksen)");
    });

    $("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
